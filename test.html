<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>업데이트된 구구단 게임</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 20px;
  }
  #question, #stats {
    margin-bottom: 20px;
  }
</style>
</head>
<body>
<div id="question"></div>
<input type="number" id="answer" placeholder="답을 입력하세요" autofocus>
<button onclick="checkAnswer()">확인</button>
<div id="result"></div>
<div id="stats"></div>

<script>
let num1, num2;
let totalQuestions = 0;
let correctAnswers = 0;

function generateQuestion() {
  num1 = Math.floor(Math.random() * 9) + 1; // 1부터 9까지의 숫자 중 하나를 랜덤으로 선택
  num2 = Math.floor(Math.random() * 9) + 1; // 동일하게 또 다른 숫자 선택
  document.getElementById('question').innerHTML = `${num1} x ${num2} = ?`;
  totalQuestions++;
  updateStats();
}

function checkAnswer() {
  const userAnswer = document.getElementById('answer').value;
  const correctAnswer = num1 * num2;
  if (parseInt(userAnswer, 10) === correctAnswer) {
    document.getElementById('result').innerHTML = "정답입니다!";
    correctAnswers++;
  } else {
    document.getElementById('result').innerHTML = "틀렸습니다. 다시 시도해보세요.";
  }
  generateQuestion(); // 새로운 문제 생성
  document.getElementById('answer').value = ''; // 입력 필드 초기화
  document.getElementById('answer').focus(); // 입력 필드에 다시 포커스
}

function updateStats() {
  const accuracy = totalQuestions > 0 ? ((correctAnswers / totalQuestions) * 100).toFixed(2) : 0;
  document.getElementById('stats').innerHTML = `총 문제 수: ${totalQuestions}, 정답 수: ${correctAnswers}, 정답률: ${accuracy}%`;
}

// 페이지 로드 시 첫 번째 문제 생성
window.onload = function() {
  generateQuestion();
};
</script>
</body>
</html>
